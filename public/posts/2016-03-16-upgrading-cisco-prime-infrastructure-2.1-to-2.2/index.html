<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>Upgrading Cisco Prime Infrastructure 2.1 to 2.2 :: WRMEM</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="At the moment we’re running Cisco Prime Infrastructure 2.1 on a Gen1 physical appliance. We’re looking to take the upgrade path from 2.1 all the way up to 3.1 (currently only 3.0.2 is supported on the Gen1 appliance).
First stop, 2.2.
The Gen1 appliance upgrade path isn’t a fun one. It requires that we back up our current application database, wipe our appliance, do a bare-metal install of 2.2, and then restore our application database. Cisco’s documentation for application backup and restore can be found here: http://www.cisco.com/c/en/us/td/docs/net_mgmt/prime/infrastructure/2-2/administrator/guide/PIAdminBook/backup_restore.html#72460
" />
<meta name="keywords" content="" />

  <meta name="robots" content="noodp" />

<link rel="canonical" href="/posts/2016-03-16-upgrading-cisco-prime-infrastructure-2.1-to-2.2/" />





  
  <link rel="stylesheet" href="/css/buttons.min.86f6b4c106b6c6eb690ae5203d36b442c1f66f718ff4e8164fa86cf6c61ad641.css">

  
  <link rel="stylesheet" href="/css/code.min.4f0ccc8439f99bf7f7970298556b94011aabc1fcae743b6842fc3361a2da9ea3.css">

  
  <link rel="stylesheet" href="/css/fonts.min.5bb7ed13e1d00d8ff39ea84af26737007eb5051b157b86fc24487c94f3dc8bbe.css">

  
  <link rel="stylesheet" href="/css/footer.min.eb8dfc2c6a7eafa36cd3ba92d63e69e849e2200e0002a228d137f236b09ecd75.css">

  
  <link rel="stylesheet" href="/css/gist.min.a751e8b0abe1ba8bc53ced52a38b19d8950fe78ca29454ea8c2595cf26aad5c0.css">

  
  <link rel="stylesheet" href="/css/header.min.75c7eb0e2872d95ff48109c6647d0223a38db52e2561dd87966eb5fc7c6bdac6.css">

  
  <link rel="stylesheet" href="/css/main.min.15870410d15d02abd22fb5ef00996f65a00d04b3a7435e9f83831c7c2298de88.css">

  
  <link rel="stylesheet" href="/css/menu.min.3c17467ebeb3d38663dce68f71f519901124fa5cbb4519b2fb0667a21e9aca39.css">

  
  <link rel="stylesheet" href="/css/pagination.min.bbb986dbce00a5ce5aca0504b7925fc1c581992a4bf57f163e5d69cc1db7d836.css">

  
  <link rel="stylesheet" href="/css/post.min.e6dddd258e64c83e05cec0cd49c05216742d42fc8ecbfbe6b67083412b609bd3.css">

  
  <link rel="stylesheet" href="/css/syntax.min.a0773cce9310cb6d8ed23e50f005448facf29a53001b57e038828daa466b25c0.css">

  
  <link rel="stylesheet" href="/css/terminal.min.e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css">

  
  <link rel="stylesheet" href="/css/terms.min.b81791663c3790e738e571cdbf802312390d30e4b1d8dc9d814a5b5454d0ac11.css">







<link rel="shortcut icon" href="/favicon.png">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">


<meta name="twitter:card" content="summary" />

  
    <meta name="twitter:site" content="" />
  
    <meta name="twitter:creator" content="bryan" />



<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Upgrading Cisco Prime Infrastructure 2.1 to 2.2">
<meta property="og:description" content="At the moment we’re running Cisco Prime Infrastructure 2.1 on a Gen1 physical appliance. We’re looking to take the upgrade path from 2.1 all the way up to 3.1 (currently only 3.0.2 is supported on the Gen1 appliance).
First stop, 2.2.
The Gen1 appliance upgrade path isn’t a fun one. It requires that we back up our current application database, wipe our appliance, do a bare-metal install of 2.2, and then restore our application database. Cisco’s documentation for application backup and restore can be found here: http://www.cisco.com/c/en/us/td/docs/net_mgmt/prime/infrastructure/2-2/administrator/guide/PIAdminBook/backup_restore.html#72460
" />
<meta property="og:url" content="/posts/2016-03-16-upgrading-cisco-prime-infrastructure-2.1-to-2.2/" />
<meta property="og:site_name" content="WRMEM" />

  <meta property="og:image" content="/og-image.png">

<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="627">


  <meta property="article:published_time" content="2016-03-16 09:08:11 -0400 EDT" />












</head>
<body>


<div class="container center">

  <header class="header">
  <div class="header__inner">
    <div class="header__logo">
      <a href="/">
  <div class="logo">
    WRMEM #Copy Run Blog
  </div>
</a>

    </div>
    
      <ul class="menu menu--mobile">
  <li class="menu__trigger">Menu&nbsp;▾</li>
  <li>
    <ul class="menu__dropdown">
      
        
          <li><a href="/contact">Contact</a></li>
        
      
        
          <li><a href="/">Home</a></li>
        
      
      
    </ul>
  </li>
</ul>

    
    
  </div>
  
    <nav class="navigation-menu">
  <ul class="navigation-menu__inner menu--desktop">
    
      
      
        <li>
          <ul class="menu">
            <li class="menu__trigger">Menu&nbsp;▾</li>
            <li>
              <ul class="menu__dropdown">
                
                  
                    <li><a href="/contact" >Contact</a></li>
                  
                
                  
                    <li><a href="/" >Home</a></li>
                  
                
              </ul>
            </li>
          </ul>
        </li>
      
    
  </ul>
</nav>

  
</header>


  <div class="content">
    
<article class="post">
  <h1 class="post-title">
    <a href="/posts/2016-03-16-upgrading-cisco-prime-infrastructure-2.1-to-2.2/">Upgrading Cisco Prime Infrastructure 2.1 to 2.2</a>
  </h1>
  <div class="post-meta"><time class="post-date">2016-03-16</time><span class="post-author">bryan</span></div>

  
    <span class="post-tags">
      
      #<a href="/tags/cisco/">cisco</a>&nbsp;
      
    </span>
  
  


  

  <div class="post-content"><div>
        <p>At the moment we’re running Cisco Prime Infrastructure 2.1 on a Gen1 physical appliance. We’re looking to take the upgrade path from 2.1 all the way up to 3.1 (currently only 3.0.2 is supported on the Gen1 appliance).</p>
<p>First stop, 2.2.</p>
<p>The Gen1 appliance upgrade path isn’t a fun one. It requires that we back up our current application database, wipe our appliance, do a bare-metal install of 2.2, and then restore our application database. Cisco’s documentation for application backup and restore can be found here: <a href="http://www.cisco.com/c/en/us/td/docs/net_mgmt/prime/infrastructure/2-2/administrator/guide/PIAdminBook/backup_restore.html#72460">http://www.cisco.com/c/en/us/td/docs/net_mgmt/prime/infrastructure/2-2/administrator/guide/PIAdminBook/backup_restore.html#72460</a></p>
<hr>
<p>**Step one<br>
**</p>
<p>Back up the PI application database to an FTP repository (I recommend <a href="https://filezilla-project.org/download.php?type=server">FileZilla Server</a> for hosting a light-weight FTP server on your workstation).</p>
<ul>
<li>Create a ftp repository on your Prime Infrastructure server via CLI
<ul>
<li>SSH to PI</li>
<li><code>conf t</code></li>
<li><code>repository _NAME_</code></li>
<li><code>url ftp://x.x.x.x</code></li>
<li><code>user _username_ password plain _password_</code></li>
</ul>
</li>
<li>Verify your repository configuration
<ul>
<li><code>show repository _NAME_</code></li>
</ul>
</li>
</ul>
<p><img src="/posts/2016-03-16-upgrading-cisco-prime-infrastructure-2.1-to-2.2/9b11af0792304b02cda5b326a1066ad4_MD5.png" alt="pi2-1"></p>
<ul>
<li>Backup your Prime Infrastructure application
<ul>
<li><code>backup _backup-name_ repository _repository-name_ application NCS</code></li>
</ul>
</li>
</ul>
<p><img src="/posts/2016-03-16-upgrading-cisco-prime-infrastructure-2.1-to-2.2/faaaa6ce9c74f4a225f6fdcb7d529df0_MD5.png" alt=""></p>
<hr>
<p><strong>Step two</strong></p>
<p>Install Prime Infrastructure 2.2</p>
<p>Reboot your appliance from the PI 2.2 installation media and follow the on-screen configuration prompts. For more information follow Cisco’s <a href="http://www.cisco.com/c/en/us/td/docs/net_mgmt/prime/infrastructure/2-0/install/guide/Cisco_PI_Hardware_Appliance_Installation_Guide/cpi_higmain.html#pgfId-1061175">Installation Guide</a></p>
<p><img src="/posts/2016-03-16-upgrading-cisco-prime-infrastructure-2.1-to-2.2/2630b83033557c2c88182fd5bb2a195f_MD5.png" alt="pi2-5"></p>
<p><strong>Step three</strong></p>
<p>Restore your application database</p>
<ul>
<li>SSH to the Prime Infrastructure server and setup your ftp repository again
<ul>
<li><code>conf t</code></li>
<li><code>repository _NAME_</code></li>
<li><code>url ftp://x.x.x.x</code></li>
<li><code>user _username_ password plain _password_</code></li>
</ul>
</li>
<li>Verify your repository configuration, and check that your backup is there
<ul>
<li><code>show repository _NAME_</code></li>
</ul>
</li>
</ul>
<p><img src="/posts/2016-03-16-upgrading-cisco-prime-infrastructure-2.1-to-2.2/9b11af0792304b02cda5b326a1066ad4_MD5.png" alt="pi2-1"></p>
<p><img src="/posts/2016-03-16-upgrading-cisco-prime-infrastructure-2.1-to-2.2/2afb14d55e205419bb34f83eeb173ab9_MD5.png" alt="pi2-3"></p>
<ul>
<li>Run the restore command, taking note of the scary warnings
<ul>
<li><code>restore _BACKUP_NAME.tar.gpg_ repository _REPOSITORY_NAME_ application NCS</code></li>
</ul>
</li>
</ul>
<p><img src="/posts/2016-03-16-upgrading-cisco-prime-infrastructure-2.1-to-2.2/4cde3c97aa7a0d2e6933faf0ee6ad5f9_MD5.png" alt="pi2-6"></p>
<p><img src="/posts/2016-03-16-upgrading-cisco-prime-infrastructure-2.1-to-2.2/708f63c77dc78109df420969876c64f5_MD5.png" alt="pi2-7"></p>

      </div></div>

  
    
<div class="pagination">
  <div class="pagination__title">
    <span class="pagination__title-h">Read other posts</span>
    <hr />
  </div>
  <div class="pagination__buttons">
    
      <a href="/posts/2016-03-20-installing-a-ca-signed-certificate-in-cisco-prime-infrastructure-2.2/" class="button inline prev">
        &lt; [<span class="button__text">Installing a CA Signed Certificate in Cisco Prime Infrastructure 2.2</span>]
      </a>
    
    
      ::
    
    
      <a href="/posts/2016-03-09-fix-for-the-change-password-operation-failed-error-on-xenapp-6.5/" class="button inline next">
         [<span class="button__text">Fix for The Change Password Operation Failed Error on XenApp 6.5</span>] &gt;
      </a>
    
  </div>
</div>


  

  
    

  
</article>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright">
        <span>© 2025 Powered by <a href="https://gohugo.io">Hugo</a></span>
    
      <span>:: <a href="https://github.com/panr/hugo-theme-terminal" target="_blank">Theme</a> made by <a href="https://github.com/panr" target="_blank">panr</a></span>
      </div>
  </div>
</footer>






<script type="text/javascript" src="/bundle.min.js"></script>





  
</div>

</body>
</html>
