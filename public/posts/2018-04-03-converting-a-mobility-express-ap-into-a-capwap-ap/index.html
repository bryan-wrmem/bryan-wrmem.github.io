<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>Converting a Mobility Express AP into a CAPWAP AP :: WRMEM</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="I was recently installing some Cisco 2802 APs and came across an issue where one of the APs would grab a DHCP address, be reachable for a minute, and then drop off the network.
It turns out the AP having an issue actually had the Mobility Express image installed and needed to be converted to CAPWAP, even though we purchased the APs specifically with the CAPWAP SKU. Here are the troubleshooting steps I went through to convert the AP to CAPWAP.
" />
<meta name="keywords" content="" />

  <meta name="robots" content="noodp" />

<link rel="canonical" href="/posts/2018-04-03-converting-a-mobility-express-ap-into-a-capwap-ap/" />





  
  <link rel="stylesheet" href="/css/buttons.min.86f6b4c106b6c6eb690ae5203d36b442c1f66f718ff4e8164fa86cf6c61ad641.css">

  
  <link rel="stylesheet" href="/css/code.min.4f0ccc8439f99bf7f7970298556b94011aabc1fcae743b6842fc3361a2da9ea3.css">

  
  <link rel="stylesheet" href="/css/fonts.min.5bb7ed13e1d00d8ff39ea84af26737007eb5051b157b86fc24487c94f3dc8bbe.css">

  
  <link rel="stylesheet" href="/css/footer.min.eb8dfc2c6a7eafa36cd3ba92d63e69e849e2200e0002a228d137f236b09ecd75.css">

  
  <link rel="stylesheet" href="/css/gist.min.a751e8b0abe1ba8bc53ced52a38b19d8950fe78ca29454ea8c2595cf26aad5c0.css">

  
  <link rel="stylesheet" href="/css/header.min.75c7eb0e2872d95ff48109c6647d0223a38db52e2561dd87966eb5fc7c6bdac6.css">

  
  <link rel="stylesheet" href="/css/main.min.15870410d15d02abd22fb5ef00996f65a00d04b3a7435e9f83831c7c2298de88.css">

  
  <link rel="stylesheet" href="/css/menu.min.3c17467ebeb3d38663dce68f71f519901124fa5cbb4519b2fb0667a21e9aca39.css">

  
  <link rel="stylesheet" href="/css/pagination.min.bbb986dbce00a5ce5aca0504b7925fc1c581992a4bf57f163e5d69cc1db7d836.css">

  
  <link rel="stylesheet" href="/css/post.min.e6dddd258e64c83e05cec0cd49c05216742d42fc8ecbfbe6b67083412b609bd3.css">

  
  <link rel="stylesheet" href="/css/syntax.min.a0773cce9310cb6d8ed23e50f005448facf29a53001b57e038828daa466b25c0.css">

  
  <link rel="stylesheet" href="/css/terminal.min.e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css">

  
  <link rel="stylesheet" href="/css/terms.min.b81791663c3790e738e571cdbf802312390d30e4b1d8dc9d814a5b5454d0ac11.css">







<link rel="shortcut icon" href="/favicon.png">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">


<meta name="twitter:card" content="summary" />

  
    <meta name="twitter:site" content="" />
  
    <meta name="twitter:creator" content="bryan" />



<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Converting a Mobility Express AP into a CAPWAP AP">
<meta property="og:description" content="I was recently installing some Cisco 2802 APs and came across an issue where one of the APs would grab a DHCP address, be reachable for a minute, and then drop off the network.
It turns out the AP having an issue actually had the Mobility Express image installed and needed to be converted to CAPWAP, even though we purchased the APs specifically with the CAPWAP SKU. Here are the troubleshooting steps I went through to convert the AP to CAPWAP.
" />
<meta property="og:url" content="/posts/2018-04-03-converting-a-mobility-express-ap-into-a-capwap-ap/" />
<meta property="og:site_name" content="WRMEM" />

  <meta property="og:image" content="/og-image.png">

<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="627">


  <meta property="article:published_time" content="2025-04-15 10:03:24 -0400 EDT" />












</head>
<body>


<div class="container center">

  <header class="header">
  <div class="header__inner">
    <div class="header__logo">
      <a href="/">
  <div class="logo">
    WRMEM #Copy Run Blog
  </div>
</a>

    </div>
    
      <ul class="menu menu--mobile">
  <li class="menu__trigger">Menu&nbsp;▾</li>
  <li>
    <ul class="menu__dropdown">
      
        
          <li><a href="/contact">Contact</a></li>
        
      
      
    </ul>
  </li>
</ul>

    
    
  </div>
  
    <nav class="navigation-menu">
  <ul class="navigation-menu__inner menu--desktop">
    
      
      
        <li>
          <ul class="menu">
            <li class="menu__trigger">Menu&nbsp;▾</li>
            <li>
              <ul class="menu__dropdown">
                
                  
                    <li><a href="/contact" >Contact</a></li>
                  
                
              </ul>
            </li>
          </ul>
        </li>
      
    
  </ul>
</nav>

  
</header>


  <div class="content">
    
<article class="post">
  <h1 class="post-title">
    <a href="/posts/2018-04-03-converting-a-mobility-express-ap-into-a-capwap-ap/">Converting a Mobility Express AP into a CAPWAP AP</a>
  </h1>
  <div class="post-meta"><time class="post-date">2025-04-15</time><span class="post-author">bryan</span></div>

  
    <span class="post-tags">
      
      #<a href="/tags/cisco/">cisco</a>&nbsp;
      
    </span>
  
  


  

  <div class="post-content"><div>
        <p>I was recently installing some Cisco 2802 APs and came across an issue where one of the APs  would grab a DHCP address, be reachable for a minute, and then drop off the network.</p>
<p>It turns out the AP having an issue actually had the Mobility Express image installed and needed to be converted to CAPWAP, even though we purchased the APs specifically with the CAPWAP SKU. Here are the troubleshooting steps I went through to convert the AP to CAPWAP.</p>
<p>After rebooting the AP a number of times to see if it would work, I threw a console cable on the device and saw some interesting output.</p>
<p><code>[*04/12/2017 00:08:21.4871]</code>
<code>[*04/12/2017 00:08:21.7248] waiting for POE negotiation to complete</code>
<code>[*04/12/2017 00:08:21.7248]</code>
<code>[*04/12/2017 00:08:26.4876] waiting for POE negotiation to complete</code>
<code>[*04/12/2017 00:08:26.4876]</code>
<code>[*04/12/2017 00:08:26.7252] waiting for POE negotiation to complete</code>
<code>[*04/12/2017 00:08:26.7252]</code>
<code>[*04/12/2017 00:08:27.8015]</code>
<code>[*04/12/2017 00:08:27.8015] !!!!! {/usr/bin/capwap_brain} failed writing /click/fromdevs_check_gw/color len 1 data: &quot;0&quot;</code>
<code>[*04/12/2017 00:08:27.8016] ethernet_port wired0, ip 192.168.1.2, netmask 255.255.255.255, gw 192.168.1.2, mtu 1500, bcast 192.168.1.255, dns1 0.0.0.0, dns2 8.8.8.8, domain sascs.org</code>
<code>[*04/12/2017 00:08:27.8123] !!!!! {/usr/bin/capwap_brain} failed writing /click/gw_h/nat/firewall_ssh_sw/sw len 1 data: &quot;0&quot;</code>
<code>[*04/12/2017 00:08:27.9885] chatter: tohost_virtual :: ToHost: device 'virtual' went down</code></p>
<p>I rebooted the device again and came to this screen indicating that it was indeed in Mobility Express mode.</p>
<p><code>(Cisco Controller)</code></p>
<p><code>Cisco Aironet 2800 Series Mobility Express</code>
<code>Welcome to the Cisco Wizard Configuration Tool</code>
<code>Use the '-' character to backup</code></p>
<p>To reset the AP into CAPWAP mode you’ll need to enter enable mode on the CLI and enter the “ap-type capwap” command.</p>
<p><code>XXXX#ap-type capwap</code>
<code>AP is the Master AP, system will need a reboot when ap type is changed to CAPWAP</code>
<code>. Do you want to proceed? (y/N)</code>
<code>y</code>
<code>[*04/12/2017 00:17:01.1466] Cleaning ME configf any..</code>
<code>[*04/12/2017 00:17:01.1685] Cleaning config files..</code>
<code>[*04/12/2017 00:17:01.1765] AP Type changed: ME to CAPWAP. AP Mode changed to local mode. AP Rebooting...</code>
<code>[*04/12/2017 00:17:01.1819] AP Rebooting: Reset Request from Controller(AP Type Changed from ME to CAPWAP)</code></p>
<p>The AP then rebooted, got its DHCP address, and successfully connected to the controller.</p>
<p>Documentation from Cisco to convert an AP from Mobility Express to CAPWAP can be found here:</p>
<p><a href="https://www.cisco.com/c/en/us/td/docs/wireless/controller/technotes/8-2/b_Mobility_Express_Deployment_guide/b_Mobility_Express_Deployment_guide_chapter_01100.html#task_CD04E8319602439D973B7D7ACE23111D">https://www.cisco.com/c/en/us/td/docs/wireless/controller/technotes/8-2/b_Mobility_Express_Deployment_guide/b_Mobility_Express_Deployment_guide_chapter_01100.html#task_CD04E8319602439D973B7D7ACE23111D</a></p>

      </div></div>

  
    
<div class="pagination">
  <div class="pagination__title">
    <span class="pagination__title-h">Read other posts</span>
    <hr />
  </div>
  <div class="pagination__buttons">
    
    
    
      <a href="/posts/2025-04-14-hello-world-again/" class="button inline next">
         [<span class="button__text">Hello World, Again</span>] &gt;
      </a>
    
  </div>
</div>


  

  
    

  
</article>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright">
        <span>© 2025 Powered by <a href="https://gohugo.io">Hugo</a></span>
    
      <span>:: <a href="https://github.com/panr/hugo-theme-terminal" target="_blank">Theme</a> made by <a href="https://github.com/panr" target="_blank">panr</a></span>
      </div>
  </div>
</footer>






<script type="text/javascript" src="/bundle.min.js"></script>





  
</div>

</body>
</html>
